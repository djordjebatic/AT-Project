(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(47)},25:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(11),r=a.n(l),i=(a(25),a(16)),c=a(12),d=a(13),g=a(17),o=a(14),h=a(1),u=a(18),m=a(3),v=a.n(m),C=a(15),p=a.n(C),b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(g.a)(this,Object(o.a)(t).call(this,e))).state={messageTypes:[],classes:[],classesSocket:new WebSocket("ws://"+a.getHostAddress()+"refreshAgentClasses"),runningAgents:[],localRunningAgents:[],runningAgentsSocket:new WebSocket("ws://"+a.getHostAddress()+"refreshRunningAgents"),logs:[],loggerSocket:new WebSocket("ws://"+a.getHostAddress()+"logger"),createInstanceClass:"",createInstanceName:"",selectedMessageType:"",sender:"",senderRequired:!1,reciever:"",message:"",messageRequired:!1},a.state.classesSocket.onmessage=function(e){a.setState({classes:JSON.parse(e.data).list}),a.state.classes.length>0&&a.setState({createInstanceClass:a.state.classes[0]})},a.state.runningAgentsSocket.onmessage=function(e){a.setState({runningAgents:JSON.parse(e.data).list}),a.setState({localRunningAgents:a.state.runningAgents.filter(function(e){return e.aid.host.address===window.location.host})}),a.state.runningAgents.length>0?a.setState({reciever:"0"}):a.setState({reciever:""}),a.state.localRunningAgents.length>0?a.setState({sender:"0"}):a.setState({sender:""})},a.state.loggerSocket.onmessage=function(e){a.setState(function(t){return{logs:[].concat(Object(i.a)(t.logs),[e.data])}})},a.handleCreateInstanceClassChange=a.handleCreateInstanceClassChange.bind(Object(h.a)(a)),a.handleCreateInstanceNameChange=a.handleCreateInstanceNameChange.bind(Object(h.a)(a)),a.handleSelectedMessageTypeChange=a.handleSelectedMessageTypeChange.bind(Object(h.a)(a)),a.handleSendMessage=a.handleSendMessage.bind(Object(h.a)(a)),a.handleSenderChange=a.handleSenderChange.bind(Object(h.a)(a)),a.handleSenderRequiredChange=a.handleSenderRequiredChange.bind(Object(h.a)(a)),a.handleRecieverChange=a.handleRecieverChange.bind(Object(h.a)(a)),a.handleMessageRequiredChange=a.handleMessageRequiredChange.bind(Object(h.a)(a)),a.handleMessageChange=a.handleMessageChange.bind(Object(h.a)(a)),a.handleCreate=a.handleCreate.bind(Object(h.a)(a)),a.handleDelete=a.handleDelete.bind(Object(h.a)(a)),a.clearLogs=a.clearLogs.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadMessageTypes(),this.loadClasses(),this.loadRunningAgents()}},{key:"getHostAddress",value:function(){return window.location.href.replace(/(^\w+:|^)\/\//,"")}},{key:"loadMessageTypes",value:function(){var e=this,t=window.location.href+"rest/messages";v.a.get(t).then(function(t){e.setState({messageTypes:t.data}),e.state.messageTypes.length>0&&e.setState({selectedMessageType:e.state.messageTypes[0]})})}},{key:"loadClasses",value:function(){var e=this,t=window.location.href+"rest/agents/classes/";v.a.get(t).then(function(t){e.setState({classes:t.data.list}),e.state.classes.length>0&&e.setState({createInstanceClass:e.state.classes[0]})})}},{key:"loadRunningAgents",value:function(){var e=this,t=window.location.href+"rest/agents/running/";v.a.get(t).then(function(t){e.setState({runningAgents:t.data.list}),e.setState({localRunningAgents:e.state.runningAgents.filter(function(e){return e.aid.host.address===window.location.host})}),e.state.runningAgents.length>0?e.setState({reciever:"0"}):e.setState({reciever:""}),e.state.localRunningAgents.length>0?e.setState({sender:"0"}):e.setState({sender:""})})}},{key:"handleCreate",value:function(e){e.preventDefault();var t=window.location.href+"rest/agents/running/"+this.state.createInstanceClass+"/"+this.state.createInstanceName;v.a.post(t)}},{key:"handleDelete",value:function(e,t){var a=window.location.href+"rest/agents/running/"+e+"/"+t;v.a.delete(a)}},{key:"handleSendMessage",value:function(e){e.preventDefault();var t,a=window.location.href+"rest/messages",n=this.state.localRunningAgents[Number(this.state.sender)],s=this.state.runningAgents[Number(this.state.reciever)];t={performative:this.state.selectedMessageType,conversationID:p()(),receivers:[s.aid]},this.state.senderRequired&&(t.sender=n.aid),this.state.messageRequired&&(t.content=this.state.message),v.a.post(a,t)}},{key:"handleCreateInstanceClassChange",value:function(e){this.setState({createInstanceClass:e.target.value})}},{key:"handleCreateInstanceNameChange",value:function(e){this.setState({createInstanceName:e.target.value})}},{key:"handleSelectedMessageTypeChange",value:function(e){this.setState({selectedMessageType:e.target.value})}},{key:"handleSenderRequiredChange",value:function(e){this.setState({senderRequired:e.target.checked})}},{key:"handleSenderChange",value:function(e){this.setState({sender:e.targsenet.value})}},{key:"handleRecieverChange",value:function(e){this.setState({reciever:e.target.value})}},{key:"handleMessageRequiredChange",value:function(e){this.setState({messageRequired:e.target.checked})}},{key:"handleMessageChange",value:function(e){this.setState({message:e.target.value})}},{key:"clearLogs",value:function(e){this.setState({logs:[]})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{style:{width:"50em",marginLeft:"auto",marginRight:"auto"}},s.a.createElement("h1",null,"Classes"),s.a.createElement("div",{style:{marginLeft:"3em"}},s.a.createElement("form",{onSubmit:this.handleCreate},s.a.createElement("select",{value:this.state.createInstanceClass,onChange:this.handleCreateInstanceClassChange},this.state.classes.map(function(e){return s.a.createElement("option",null,e)})),"\u2003",s.a.createElement("input",{placeholder:"Enter instance name...",value:this.state.createInstanceName,onChange:this.handleCreateInstanceNameChange}),"\u2003",s.a.createElement("input",{type:"submit",value:"Submit",disabled:""===this.state.createInstanceClass.trim()||""===this.state.createInstanceName.trim()}))),s.a.createElement("br",null),s.a.createElement("h1",null,"Running Agents"),s.a.createElement("table",{style:{marginLeft:"3em",borderSpacing:"0.5em"}},s.a.createElement("tbody",null,this.state.runningAgents.map(function(t){return s.a.createElement("tr",null,s.a.createElement("td",null,t.aid.name),s.a.createElement("td",null,s.a.createElement("button",{onClick:function(){return e.handleDelete(t.aid.type.name,t.aid.name)}},"Delete")))}))),s.a.createElement("br",null),s.a.createElement("h1",null,"Messages"),s.a.createElement("form",{onSubmit:this.handleSendMessage},s.a.createElement("table",{style:{marginLeft:"3em",borderSpacing:"0.5em"}},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,"Sender: "),s.a.createElement("td",null,s.a.createElement("input",{type:"checkbox",checked:this.state.senderRequired,onChange:this.handleSenderRequiredChange}),s.a.createElement("select",{value:this.state.sender,onChange:this.handleSenderChange,disabled:!this.state.senderRequired},this.state.localRunningAgents.map(function(e,t){return s.a.createElement("option",{value:t},e.aid.name)})))),s.a.createElement("tr",null,s.a.createElement("td",null,"Reciever: "),s.a.createElement("td",null," \u2003 ",s.a.createElement("select",{value:this.state.reciever,onChange:this.handleRecieverChange},this.state.runningAgents.map(function(e,t){return s.a.createElement("option",{value:t},e.aid.name)})))),s.a.createElement("tr",null,s.a.createElement("td",null,"Message type: "),s.a.createElement("td",null," \u2003 ",s.a.createElement("select",{value:this.state.selectedMessageType,onChange:this.handleSelectedMessageTypeChange},this.state.messageTypes.map(function(e){return s.a.createElement("option",null,e)})))),s.a.createElement("tr",null,s.a.createElement("td",null,"Message: "),s.a.createElement("td",null,s.a.createElement("input",{type:"checkbox",checked:this.state.messageRequired,onChange:this.handleMessageRequiredChange}),s.a.createElement("input",{placeholder:"Enter message...",value:this.state.message,onChange:this.handleMessageChange,disabled:!this.state.messageRequired}))),s.a.createElement("tr",null,s.a.createElement("input",{type:"submit",value:"Submit",disabled:""===this.state.sender.trim()&&!0===this.state.senderRequired||""===this.state.reciever.trim()||""===this.state.message.trim()&&!0===this.state.messageRequired||""===this.state.selectedMessageType.trim()}))))),s.a.createElement("br",null),s.a.createElement("h1",null,"Logs"),s.a.createElement("div",{style:{marginLeft:"3em"}},s.a.createElement("button",{onClick:this.clearLogs},"Clear"),s.a.createElement("div",{style:{paddingLeft:"1em",paddingRight:"1em",paddingTop:"1em",paddingBottom:"1em",height:"6.5em",marginTop:"1em",overflowY:"scroll",border:"solid",borderWidth:"0.01em"}},this.state.logs.map(function(e){return s.a.createElement("p",null,e)}))),s.a.createElement("br",null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.099f609d.chunk.js.map